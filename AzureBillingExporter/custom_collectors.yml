# A Prometheus metric with (optional) additional labels, value and labels populated from one query.
metrics:
  - metric_name: azure_billing_by_resource_group
    type: gauge
    help: 'Costs by resource group by current month'
    key_labels:
      # Populated from the `market` column of each row.
      - ResourceGroupName
    static_labels:
      # Arbitrary key/value pair
      company: dodo
    value: PreTaxCost
    query_file: './custom_queries/azure_billing_by_resource_group.json'

  - metric_name: azure_billing_create_by_terraform
    type: gauge
    help: 'Costs by resource group by current month'
    key_labels:
      - ResourceLocation
    static_labels:
      company: dodo
    value: PreTaxCost
    limit: 20
    query_file: './custom_queries/azure_billing_by_tag_terraform.json'
